{"version":3,"sources":["react-auth0-spa.js","components/NavBar.js","utils/history.js","components/PrivateRoute.js","components/Auction.js","components/BidModal.js","pages/AuctionsPage.js","components/PictureUpload.js","pages/CreateAuctionPage.js","components/LoadingSpinner.js","App.js","serviceWorker.js","stores/AuthStore.js","stores/OverlayStore.js","stores/AuctionStore.js","index.js"],"names":["i","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","Auth0Provider","authStore","children","onRedirectCallback","initOptions","useState","isAuthenticated","setIsAuthenticated","user","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","useEffect","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","appState","getUser","getIdTokenClaims","tokenClaims","token","__raw","setClaims","setToken","initAuth0","loginWithPopup","params","console","error","Provider","value","loginWithRedirect","getTokenSilently","getTokenWithPopup","logout","useStyles","makeStyles","navbar","background","padding","marginBottom","display","width","boxSizing","header","flexBasis","loginLogoutContainer","justifyContent","alignItems","button","color","inject","auth0","classes","className","style","fontSize","Button","onClick","createBrowserHistory","PrivateRoute","Component","component","path","rest","targetUrl","fn","render","props","root","media","height","bidButton","borderWidth","cardActions","detailsContainer","details","paddingTop","paddingBottom","textAlign","Label","styled","p","Value","span","Auction","auction","onBid","bidState","amount","highestBid","pictureUrl","Card","CardActionArea","CardHeader","avatar","Avatar","aria-label","seller","toUpperCase","CardMedia","image","CardContent","date","endingAt","renderer","hours","minutes","seconds","CardActions","disabled","variant","theme","modal","outline","paper","backgroundColor","palette","spacing","borderRadius","observer","auctionStore","onCancel","biddingOn","Modal","aria-labelledby","aria-describedby","open","onClose","setBiddingOn","closeAfterTransition","Fade","in","noValidate","autoComplete","FormControl","fullWidth","margin","InputLabel","htmlFor","Input","id","bidAmount","onChange","e","setBidAmount","target","type","startAdornment","InputAdornment","position","float","placeBid","auctionsContainer","flexWrap","maxWidth","auctionCard","containerWidth","flexShrink","fabContainer","bottom","right","createAuctionButton","routerHistory","fetchAuctions","setInterval","process","auctions","length","map","email","bidder","key","renderAuctions","Fab","push","container","border","cursor","preview","PictureUpload","input","onPictureSelected","base64","setBase64","handleFileChange","file","files","reader","FileReader","readAsDataURL","onload","result","ref","ButtonBase","click","src","alt","form","pictureUpload","marginTop","setTitle","createAuction","Container","fixed","TextField","label","placeholder","spinnerContainer","zIndex","LoadingSpinner","displayValue","log","CircularProgress","overlayStore","displaySpinner","exact","AuctionsPage","CreateAuctionPage","Boolean","hostname","match","this","claims","observable","action","status","axios","Axios","create","baseURL","get","headers","Authorization","AuthStore","data","alert","forEach","OverlayStore","setLoadingSpinner","patch","pictureBase64","post","createAuctionResult","auctionId","ReactDOM","AuctionStore","domain","client_id","redirect_uri","origin","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.54865a28.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\n\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n  window.history.replaceState({}, document.title, window.location.pathname);\n\nexport const Auth0Context = React.createContext();\nexport const useAuth0 = () => useContext(Auth0Context);\nexport const Auth0Provider = ({\n  authStore,\n  children,\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n  ...initOptions\n}) => {\n  const [isAuthenticated, setIsAuthenticated] = useState();\n  const [user, setUser] = useState();\n  const [auth0Client, setAuth0] = useState();\n  const [loading, setLoading] = useState(true);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  useEffect(() => {\n    const initAuth0 = async () => {\n      const auth0FromHook = await createAuth0Client(initOptions);\n      setAuth0(auth0FromHook);\n\n      if (window.location.search.includes(\"code=\") &&\n          window.location.search.includes(\"state=\")) {\n        const { appState } = await auth0FromHook.handleRedirectCallback();\n        onRedirectCallback(appState);\n      }\n\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\n\n      setIsAuthenticated(isAuthenticated);\n\n      if (isAuthenticated) {\n        const user = await auth0FromHook.getUser();\n        const tokenClaims = await auth0FromHook.getIdTokenClaims();\n        const token = tokenClaims.__raw;\n        authStore.setClaims(user);\n        authStore.setToken(token);\n        setUser(user);\n      }\n\n      setLoading(false);\n    };\n    initAuth0();\n    // eslint-disable-next-line\n  }, []);\n\n  const loginWithPopup = async (params = {}) => {\n    setPopupOpen(true);\n    try {\n      await auth0Client.loginWithPopup(params);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setPopupOpen(false);\n    }\n    const user = await auth0Client.getUser();\n    setUser(user);\n    setIsAuthenticated(true);\n  };\n\n  const handleRedirectCallback = async () => {\n    setLoading(true);\n    await auth0Client.handleRedirectCallback();\n    const user = await auth0Client.getUser();\n    setLoading(false);\n    setIsAuthenticated(true);\n    setUser(user);\n  };\n  \n  return (\n    <Auth0Context.Provider\n      value={{\n        isAuthenticated,\n        user,\n        loading,\n        popupOpen,\n        loginWithPopup,\n        handleRedirectCallback,\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\n        logout: (...p) => auth0Client.logout(...p)\n      }}\n    >\n      {children}\n    </Auth0Context.Provider>\n  );\n};","import React from \"react\";\nimport { useAuth0 } from \"../react-auth0-spa\";\nimport { inject } from 'mobx-react';\nimport { makeStyles, Button } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  navbar: {\n    background: 'linear-gradient(90deg, rgba(190,52,32,1) 0%, rgba(231,75,77,1) 48%, rgba(231,148,74,1) 100%)',\n    padding: 14,\n    marginBottom: 24,\n    display: 'flex',\n    width: '100%',\n    boxSizing: 'border-box',\n  },\n  header: {\n    flexBasis: '50%',\n    display: 'flex'\n  },\n  loginLogoutContainer: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    flexBasis: '50%',\n  },\n  button: {\n    color: 'white',\n  },\n})\n\nconst NavBar = ({ authStore }) => {\n  const auth0 = useAuth0();\n  const { loginWithRedirect, logout } = auth0;\n  const isAuthenticated = authStore.token;\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.navbar}>\n      <div className={classes.header}>\n        <h1 style={{ fontSize: 14, color: 'white' }}>THE AUCTION HOUSE</h1>\n      </div>\n      <div className={classes.loginLogoutContainer}>\n        {!isAuthenticated && (\n          <Button\n            className={classes.button}\n            onClick={() => loginWithRedirect({})}\n          >\n           Sign in\n          </Button>\n        )}\n\n        {isAuthenticated && (\n          <Button\n            className={classes.button}\n            onClick={() => logout({})}\n          >\n            Sign out\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default inject(['authStore'])(NavBar);","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();","import React, { useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\n\n  useEffect(() => {\n    if (loading || isAuthenticated) {\n      return;\n    }\n    const fn = async () => {\n      await loginWithRedirect({\n        appState: {targetUrl: window.location.pathname}\n      });\n    };\n    fn();\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\n\n  const render = props =>\n    isAuthenticated === true ? <Component {...props} /> : null;\n\n  return <Route path={path} render={render} {...rest} />;\n};\n\nexport default PrivateRoute;","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Button from \"@material-ui/core/Button\";\nimport Countdown from \"react-countdown\";\nimport { Grid, CardHeader, Avatar } from '@material-ui/core';\nimport styled from 'styled-components';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%'\n  },\n  media: {\n    height: 280,\n  },\n  bidButton: {\n    width: '70%',\n    background: 'linear-gradient(90deg, rgba(190,52,32,1) 0%, rgba(231,75,77,1) 48%, rgba(231,148,74,1) 100%)',\n    borderWidth: 0,\n    color: 'white',\n  },\n  cardActions: {\n   width: '100%',\n   display: 'flex',\n   justifyContent: 'center',\n   padding: 12,\n  },\n  detailsContainer: {\n    display: 'flex',\n    padding: 0,\n  },\n  details: {\n    display: 'flex',\n    flexBasis: '50%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 18,\n    paddingBottom: 10,\n    textAlign: 'center',\n  },\n});\n\nconst Label = styled.p`\n  font-size: 12px;\n  font-weight: bold;\n  color: #919191;\n`;\n\nconst Value = styled.span`\n  font-size: 14px;\n`;\n\nconst Auction = ({ auction, onBid, bidState }) => {\n  const classes = useStyles();\n  const amount = auction.highestBid.amount;\n\n  const pictureUrl = auction.pictureUrl ? auction.pictureUrl : 'placeholder.png';\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea>\n        <CardHeader\n          avatar={\n            <Avatar aria-label=\"recipe\" className={classes.avatar}>\n              {auction.seller[0].toUpperCase()}\n            </Avatar>\n          }\n          title={auction.title}\n        />\n        <CardMedia\n          className={classes.media}\n          image={pictureUrl}\n          title=\"Contemplative Reptile\"\n        />\n        <CardContent className={classes.detailsContainer}>\n          <div className={classes.details}>\n              <div>\n                <Value>{amount === 0 ? 'No bids' : `$${amount}`}</Value>\n                <Label>HIGHEST BID</Label>\n              </div>\n          </div>\n          <div className={classes.details}>\n            <div>\n              <Countdown\n                date={auction.endingAt}\n                renderer={({ hours, minutes, seconds }) => (\n                  <Value>\n                    {hours} hours {minutes} mins {seconds} secs\n                  </Value>\n                )}\n              />\n              <Label>TIME REMAINING</Label>\n            </div>\n          </div>\n          {/* <Grid container spacing={3} style={{ width: '100%', margin: 'auto' }}>\n            <Grid item xs={4} style={{ textAlign: 'center' }}>\n              <Value>{amount === 0 ? 'No bids' : `$${amount}`}</Value>\n              <Label>HIGHEST BID</Label>\n            </Grid>\n            <Grid item xs={8} style={{ textAlign: 'center' }}>\n              <p>\n                <Countdown\n                  date={auction.endingAt}\n                  renderer={({ hours, minutes, seconds }) => (\n                    <Value>\n                     {hours} hours {minutes} mins {seconds} secs\n                    </Value>\n                  )}\n                />\n              </p>\n              <Label>TIME REMAINING</Label>\n            </Grid>\n          </Grid> */}\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        <div className={classes.cardActions}>\n          { (bidState === 'OWN_AUCTION' || bidState === 'HIGHEST_BIDDER') && (\n            <Button\n              disabled={true}\n              onClick={() => onBid()}\n            >\n              {bidState === 'OWN_AUCTION' ? 'This is your auction' : 'You are the highest bidder'}\n            </Button>\n          )}\n\n          { bidState === 'CAN_BID' && (\n            <Button\n              variant=\"outlined\"\n              className={classes.bidButton}\n              onClick={() => onBid()}\n            >\n              Bid now!\n            </Button>\n          )}\n\n        </div>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Auction;\n","import React, { useState } from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  FormControl,\n  InputLabel,\n  Input,\n  InputAdornment,\n  Button,\n} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    outline: 0,\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(2, 4, 3),\n    outline: 0,\n    borderRadius: 10,\n  },\n}));\n\nconst BidModal = ({ auctionStore, onCancel }) => {\n  const classes = useStyles();\n  const auction = auctionStore.biddingOn;\n\n  if (!auction) {\n    return null;\n  }\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={!!auction}\n      onClose={() => auctionStore.setBiddingOn(null)}\n      closeAfterTransition\n    >\n      <Fade in={!!auction}>\n        <div className={classes.paper}>\n          <h2>Bid on \"{auction.title}\"</h2>\n          <form noValidate autoComplete=\"off\">\n            <FormControl fullWidth className={classes.margin}>\n              <InputLabel htmlFor=\"standard-adornment-amount\">\n                Bid Amount\n              </InputLabel>\n              <Input\n                id=\"standard-adornment-amount\"\n                value={auctionStore.bidAmount}\n                onChange={(e) => auctionStore.setBidAmount(e.target.value)}\n                type=\"number\"\n                startAdornment={\n                  <InputAdornment position=\"start\">$</InputAdornment>\n                }\n              />\n            </FormControl>\n            <br/><br/>\n            <div>\n              <Button\n                style={{ float: 'right' }}\n                onClick={() => auctionStore.placeBid()}\n              >\n                  Place Bid\n              </Button>\n            </div>\n          </form>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\n\nexport default inject([\"auctionStore\"])(observer(BidModal));\n","import React, { useEffect } from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport Auction from \"../components/Auction\";\nimport BidModal from \"../components/BidModal\";\nimport { Fab, makeStyles } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst containerWidth = 1000;\nconst cardPadding = 14;\nconst cardWidth = (containerWidth / 2) - (cardPadding * 2); \n\nconst useStyles = makeStyles({\n  auctionsContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: containerWidth,\n    margin: 'auto',\n    '@media (max-width: 900px)' : {\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n  },\n  auctionCard: {\n    flexBasis: cardWidth,\n    flexShrink: 0,\n    padding: cardPadding,\n  },\n  fabContainer: {\n    position: 'fixed',\n    bottom: 20,\n    right: 20,\n  },\n  createAuctionButton: {\n    background: 'linear-gradient(90deg, rgba(190,52,32,1) 0%, rgba(231,75,77,1) 48%, rgba(231,148,74,1) 100%)',\n  },\n});\n\nconst AuctionsPage = (props) => {\n  const { auctionStore, authStore, routerHistory } = props;\n  const classes = useStyles();\n\n  useEffect(() => {\n    (async () => {\n      await auctionStore.fetchAuctions();\n      setInterval(() => {\n        if (routerHistory.location.pathname === '/auctions' || routerHistory.location.pathname === '/') {\n          auctionStore.fetchAuctions();\n        }\n      }, process.env.REACT_APP_REFRESH_RATE * 1000);\n    })();\n  }, [auctionStore, routerHistory]);\n\n  const renderAuctions = () => {\n    const { auctions } = auctionStore;\n\n    if (!auctions.length) {\n      return (\n        <div style={{ textAlign: 'center', width: '100%' }}>\n          <h4>No auctions available. Create one?</h4>\n        </div>\n      );\n    }\n\n    return auctions.map((auction) => {\n      let bidState = 'CAN_BID';\n\n      if (auction.seller === authStore.email) {\n        bidState = 'OWN_AUCTION';\n      }\n\n      if (auction.highestBid.bidder === authStore.email) {\n        bidState = 'HIGHEST_BIDDER';\n      }\n\n      return (\n        <div key={auction.id} className={classes.auctionCard}>\n          <Auction\n            auction={auction}\n            bidState={bidState}\n            onBid={() => auctionStore.setBiddingOn(auction)}\n          />\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className={classes.auctionsContainer}>\n      <BidModal />\n\n      {renderAuctions()}\n      \n      <div className={classes.fabContainer}>\n        <Fab\n          color=\"primary\"\n          aria-label=\"add\"\n          className={classes.createAuctionButton}\n          onClick={() => routerHistory.push('/create')}\n        >\n          <AddIcon />\n        </Fab>\n      </div>\n    </div>\n  );\n};\n\nexport default inject(\"auctionStore\", \"authStore\", \"routerHistory\")(observer(AuctionsPage));\n","import React, { Fragment, useState } from 'react';\nimport { makeStyles, ButtonBase } from '@material-ui/core';\nimport PictureIcon from '@material-ui/icons/BurstMode';\n\nconst useStyles = makeStyles({\n  container: {\n    width: 300,\n    height: 100,\n    border: '2px dashed #a1a1a1',\n    borderRadius: 5,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    cursor: 'copy',\n  },\n  preview: {\n    width: 300,\n    borderRadius: 5,\n  }\n});\n\nconst PictureUpload = ({ onPictureSelected }) => {\n  const [base64, setBase64] = useState(null);\n  const classes = useStyles();\n  let input;\n\n  const handleFileChange = async e => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      setBase64(reader.result);\n      onPictureSelected(reader.result);\n    };\n  };\n\n  return (\n    <Fragment>\n      <input\n        style={{ display: 'none' }}\n        ref={ref => input = ref}\n        type=\"file\"\n        onChange={handleFileChange}\n      />\n      \n      {\n        !base64 && (\n          <ButtonBase onClick={() => input.click()}>\n            <div className={classes.container}>\n              <PictureIcon color=\"disabled\" />\n            </div>\n          </ButtonBase>\n        )\n      }\n\n      {\n        base64 && (\n          <img className={classes.preview} src={base64} alt=\"Auction\" />\n        )\n      }\n    </Fragment>\n  );\n};\n\nexport default PictureUpload;","import React, { useState } from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport {\n  Container,\n  FormControl,\n  Button,\n  makeStyles,\n  TextField,\n} from \"@material-ui/core\";\nimport PictureUpload from '../components/PictureUpload';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    maxWidth: 400,\n  },\n  pictureUpload: {\n    marginTop: 20,\n    marginBottom: 20,\n  },\n}));\n\nconst CreateAuctionPage = ({ auctionStore, routerHistory }) => {\n  const [title, setTitle] = useState(\"\");\n  const [base64, setBase64] = useState(null);\n  const classes = useStyles();\n\n  const createAuction = async (title) => {\n    await auctionStore.createAuction(title, base64);\n    routerHistory.push(\"/auctions\");\n  };\n\n  return (\n    <Container width={200} fixed>\n      <h1>Create an Auction</h1>\n\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <FormControl fullWidth>\n          <TextField\n            label=\"Auction Title\"\n            id=\"standard-adornment-amount\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            placeholder=\"Example: Lemonade from the '60s\"\n            type=\"string\"\n            variant=\"outlined\"\n          />\n        </FormControl>\n        <div className={classes.pictureUpload}>\n          <PictureUpload onPictureSelected={base64 => setBase64(base64)} />\n        </div>\n        <div>\n          <Button\n            onClick={() => createAuction(title)}\n            disabled={!title.length || !base64}\n          >\n            Create auction\n          </Button>\n        </div>\n      </form>\n    </Container>\n  );\n};\n\nexport default inject(\n  \"auctionStore\",\n  \"authStore\",\n  \"routerHistory\"\n)(observer(CreateAuctionPage));\n","import React from 'react';\nimport { makeStyles, CircularProgress } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ props }) => ({\n  spinnerContainer: {\n    width: '100vw',\n    height: '100vh',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: 'rgba(0, 0, 0, 0.2)',\n    position: 'fixed',\n    zIndex: 999,\n  },\n}));\n\nconst LoadingSpinner = ({ display }) => {\n  const classes = useStyles();\n\n  const displayValue = !!display ? 'flex' : 'none';\n  console.log('dValue', displayValue, '/ display', display);\n\n  return (\n    <div className={classes.spinnerContainer} style={{ display: displayValue }}>\n      <CircularProgress color='secondary' />\n    </div>\n  );\n};\n\nexport default LoadingSpinner;","import React from \"react\";\nimport NavBar from \"./components/NavBar\";\nimport { Prompt, Redirect } from 'react-router-dom';\n\nimport { Router, Switch } from \"react-router-dom\";\nimport history from \"./utils/history\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport AuctionsPage from './pages/AuctionsPage';\nimport CreateAuctionPage from './pages/CreateAuctionPage';\nimport LoadingSpinner from './components/LoadingSpinner';\nimport { inject, observer } from 'mobx-react';\n\nconst App = (props) => {\n  const { overlayStore } = props;\n\n  return (\n    <div className=\"App\">\n      <LoadingSpinner display={overlayStore.displaySpinner} />\n      <Router history={history}>\n        <header>\n          <NavBar />\n        </header>\n        <Switch>\n          <PrivateRoute path=\"/\" exact component={AuctionsPage} />\n          <PrivateRoute path=\"/auctions\" component={AuctionsPage} />\n          <PrivateRoute path=\"/create\" component={CreateAuctionPage} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default inject('overlayStore')(observer(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { observable, action } from 'mobx';\n\nclass AuthStore {\n  @observable token = null;\n  @observable claims;\n  @observable email;\n\n  @action\n  setToken(token) {\n    this.token = token;\n    console.log('Token set', token);\n  }\n\n  @action\n  setClaims(claims) {\n    this.claims = claims;\n    this.email = claims.email;\n  }\n}\n\nexport default new AuthStore();","import { observable, action } from 'mobx';\n\nclass OverlayStore {\n  @observable displaySpinner = false;\n\n  @action setLoadingSpinner(status) {\n    this.displaySpinner = status;\n  }\n}\n\nexport default new OverlayStore();","import { action, observable } from 'mobx';\nimport Axios from 'axios';\nimport AuthStore from './AuthStore';\nimport OverlayStore from './OverlayStore';\n\nconst axios = Axios.create({\n  baseURL: process.env.REACT_APP_AUCTIONS_ENDPOINT,\n});\n\nclass AuctionStore {\n  @observable auctions = [];\n  @observable biddingOn = null;\n  @observable bidAmount = 0;\n\n  @action\n  async fetchAuctions() {\n    try {\n      const result = await axios.get('/auctions?status=OPEN', {\n        headers: {\n          Authorization: AuthStore.token,\n        }\n      });\n\n      this.auctions = result.data;\n    } catch (error) {\n      alert('Could not fetch auctions! Check console for more details.');\n      console.error(error);\n    }\n\n    if (this.biddingOn) {\n      this.auctions.forEach(auction => {\n        if (auction.id === this.biddingOn.id) {\n          this.bidAmount = auction.highestBid.amount + 1;\n        }\n      });\n    }\n  }\n\n  @action\n  setBiddingOn(auction) {\n    this.biddingOn = auction;\n\n    if (auction) {\n      this.bidAmount = auction.highestBid.amount + 1;\n    } else {\n      this.bidAmount = 0;\n    }\n  }\n\n  @action\n  setBidAmount(amount) {\n    this.bidAmount = amount;\n  }\n\n  @action\n  async placeBid() {\n    const id = this.biddingOn.id;\n    const amount = this.bidAmount;\n\n    OverlayStore.setLoadingSpinner(true);\n\n    try {\n      await axios.patch(`/auction/${id}/bid`, { amount }, {\n        headers: {\n          Authorization: AuthStore.token,\n        }\n      });\n    } catch (error) {\n      alert('Could not place bid! Check console for more details.');\n      console.error(error);\n    }\n\n    this.fetchAuctions();\n    this.biddingOn = null;\n    this.bidAmount = 0;\n    OverlayStore.setLoadingSpinner(false);\n  }\n\n  async createAuction(title, pictureBase64) {\n    let auctionId;\n    OverlayStore.setLoadingSpinner(true);\n\n    try {\n      const createAuctionResult = await axios.post('/auction', { title }, {\n        headers: {\n          Authorization: AuthStore.token,\n        }\n      });\n      \n      const auction = createAuctionResult.data;\n      auctionId = auction.id;\n      \n      await axios.patch(`/auction/${auctionId}/picture`, pictureBase64, {\n        headers: {\n          Authorization: AuthStore.token,\n        },\n      });\n    } catch (error) {\n      alert('Could not create auction! Check console for more details.');\n      console.error(error);\n    }\n\n    OverlayStore.setLoadingSpinner(false);\n  }\n}\n\nexport default new AuctionStore();","import React from \"react\";\nimport { Provider } from \"mobx-react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport AuctionStore from \"./stores/AuctionStore\";\nimport AuthStore from \"./stores/AuthStore\";\nimport OverlayStore from \"./stores/OverlayStore\";\nimport { Auth0Provider } from \"./react-auth0-spa\";\nimport history from \"./utils/history\";\nimport \"./style.scss\";\nimport \"./normalize.scss\";\n\nconst onRedirectCallback = (appState) => {\n  history.push(\n    appState && appState.targetUrl\n      ? appState.targetUrl\n      : window.location.pathname\n  );\n};\n\nReactDOM.render(\n  <Provider\n    auctionStore={AuctionStore}\n    authStore={AuthStore}\n    routerHistory={history}\n    overlayStore={OverlayStore}\n  >\n    <Auth0Provider\n      authStore={AuthStore}\n      domain={process.env.REACT_APP_AUTH0_DOMAIN}\n      client_id={process.env.REACT_APP_AUTH0_CLIENT_ID}\n      redirect_uri={window.location.origin}\n      onRedirectCallback={onRedirectCallback}\n    >\n      <App />\n    </Auth0Provider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}